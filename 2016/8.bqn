âŸ¨ToNatsâŸ©â†â€¢Import "../bqn-libs/strings.bqn"
inâ†â€¢FLines "8.in"
Rectâ†{ğ•©âˆ¨ğ•¨âˆ§Â´âˆ˜>âš‡âˆâ€¿1â†•â‰¢ğ•©}
RotColâ†{âŸ¨col,distâŸ© ğ•Š grid:(-dist)âŠ¸âŒ½âŒ¾(colâŠ¸âŠË˜) grid}
RotRowâ†{âŸ¨row,distâŸ© ğ•Š grid:(-dist)âŠ¸âŒ½âŒ¾(rowâŠ¸âŠ) grid}
Parseâ†{
  "rect"â‰¡4â†‘ğ•©?(âŒ½ToNats ğ•©)âŠ¸Rect;
  "rotate column"â‰¡13â†‘ğ•©?(ToNats ğ•©)âŠ¸RotCol;
  (ToNats ğ•©)âŠ¸RotRow
}
pâ†ParseÂ¨in
â€¢Show +Â´âˆ˜â¥Šgâ†(6â€¿50â¥Š0) {ğ•ğ•©}Â´ âŒ½p
â€¢Show gâŠ" #"
