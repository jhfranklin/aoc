#! /usr/bin/env bqn
sâ†>âˆ¾âŸœ'.'Â¨â€¢FLines "03.in"
dlocsâ†âˆŠâŸœ(â†•10) s-'0'
slocsâ†('.'â‰ s)âˆ§Â¬dlocs
nbsâ†{0<+Â´â¥ŠâŒ½âŸœğ•©Â¨â‹ˆâŒœËœÂ¯1â€¿0â€¿1} slocs
maskâ†(Â¬-ËœâŠ¢Ã—Â·+`Â»âŠ¸>) â¥Šdlocs
â€¢Show +Â´â€¢ParseFloatÂ¨(âˆ¨Â´Â¨maskâŠ”â¥Šnbs)/smâ†maskâŠ”â¥Šs #Â Part 1
glocsâ†+`âŠ¸Ã—âŒ¾â¥Š'*'=s
gsâ†smâŠ”Ëœ-âŸœ(=âŸœ0)âŒˆÂ´Â¨maskâŠ”â¥Š{+Â´â¥ŠâŒ½âŸœğ•©Â¨â‹ˆâŒœËœÂ¯1â€¿0â€¿1} glocs # this relies on each number being next to only one gear
â€¢Show +Â´Ã—Â´Â¨â€¢ParseFloatâš‡1 (2=â‰ Â¨)âŠ¸/gs # Part 2
