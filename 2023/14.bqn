#! /usr/bin/env bqn
inâ†>â€¢FLines â‰ â—¶"14.in"â€¿âŠ‘ â€¢args

Loadâ†{ğ•Š col:
  idxâ†'#'=col
  rollsâ†+Â´Â¨'O'=col âŠ”Ëœ((Â¬Ã—+`)âŠ¸-)idx
  cubesâ†Â¯1âˆ¾/idx
  +Â´âˆ¾(â‰ col)-1+cubes +âŸœâ†•Â¨ (â‰ cubes)â†‘rolls
}
Rotâ†âŒ½â‰

â€¢Show +Â´LoadË˜ Rot in # Part 1

Tiltâ†{ğ•Š col:
  idxâ†'#'=col
  rollsâ†+Â´Â¨'O'=col âŠ”Ëœ((Â¬Ã—+`)âŠ¸-)idx
  cubesâ†Â¯1âˆ¾/idx
  ".#O"âŠËœidx+(â‰ col)â†‘2Ã—/â¼âˆ¾1+cubes +âŸœâ†•Â¨ (â‰ cubes)â†‘rolls
}

aâ†(âŠâŠ‘Ëœ(âŠ‘Â·/Â·Â¬âˆŠ)) câ†(RotâŸ2)Â¨in { ((TiltË˜Rotâ¼)âŸ4)âŸğ•© (RotâŸ2) ğ•¨}â†•200
bâ†+Â´aâ†“âˆŠc
â€¢Show {+Â´â¥Š(l-â†•lâ†â‰ ğ•©)Ã—'O'=ğ•©}câŠ‘Ëœ{a+b|ğ•©-a}1e9
