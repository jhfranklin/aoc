#! /usr/bin/env bqn
âŸ¨ToNatsâŸ©â†â€¢Import "../bqn-libs/strings.bqn"
rsâ€¿rmâ†(âŠ‘â‹ˆ1âŠ¸â†“)((âŠ¢-ËœÂ¬Ã—+`)(0=â‰ )Â¨)âŠ¸âŠ”â€¢FLines â‰ â—¶"05.in"â€¿âŠ‘ â€¢args
seedsâ†ToNatsâŠ‘rs
mapsâ†>Â¨ToNatsâš‡1 1âŠ¸â†“Â¨rm
maps (â‹1âŠ¸âŠ‘Ë˜)âŠ¸âŠÂ¨â†© # Sort using from
rngsâ†(â¥Š(+`1âŠ¸â†“)Ë˜)Â¨ maps
funsâ†((â¥Š((0âˆ¾-Â´)Â¯1âŠ¸â†“)Ë˜)âˆ¾0Ë™)Â¨ maps
cmapsâ†âŒ½rngsâ‹ˆÂ¨funs
Nextâ†{map ğ•Š seed:
  rngâ€¿funâ†map
  seed+(rngâ‹seed)âŠfun
}
â€¢Show âŒŠÂ´(âŠ‘NextÂ´âŸœcmaps)Â¨seeds # Part 1

NextRangeâ†{map ğ•Š sr:
  rngâ€¿funâ†map
  aâ†rngâŠËœ{ğ•¨+â†•ğ•©-ğ•¨}Â´rngâ‹sr
  rsâ†âˆ˜â€¿2â¥Šâˆ§srâˆ¾aâˆ¾a-1
  rs+funâŠËœrngâ‹âŠ‘Ë˜rs
}
srsâ†+`Ë˜âˆ˜â€¿2â¥Šseeds
NextMapâ†{map ğ•Š srs:
  âˆ¾(<mapâŠ¸NextRange)Ë˜srs
}

â€¢Show âŒŠÂ´â¥ŠNextMapÂ´âŸœcmaps srs # Part 2
