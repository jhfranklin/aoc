#! /usr/bin/env bqn
stâ€¿grâ†(âŠ‘â‹ˆ1âŠ¸â†“)â€¢FLines â‰ â—¶"07.in"â€¿âŠ‘ â€¢args
st =â†© 'S'
gr =â†© '^'

cntâ†0
Stepâ†{
  spâ†ğ•¨âˆ§ğ•© # hit splitters
  cnt +â†© +Â´sp
  (ğ•©âˆ§Â¬ğ•¨)âˆ¨(Â«âˆ¨Â») sp # beams not hitting or new beams
}

st StepÂ´ âŒ½gr
â€¢Show cnt # Part 1

cnt2â†1
Step2â†{
  spâ†ğ•¨Ã—ğ•© # hit splitters
  cnt2 +â†© +Â´sp
  (ğ•©Ã—Â¬ğ•¨)+(Â«+Â») sp # beams not hitting or new beams
}
st Step2Â´ âŒ½gr
â€¢Show cnt2 # Part 2
