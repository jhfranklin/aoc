#! /usr/bin/env bqn
âŸ¨ToNats,SplitâŸ©â†â€¢Import "../bqn-libs/strings.bqn"
inâ†â€¢FLines "10.in"

ParseLineâ†{
  lineâ†' 'âŠ¸Split ğ•©
  dâ†'#'=Â¯1â†“1â†“âŠ‘line
  nâ†â‰ d
  sâ†>(nâ†‘/â¼)Â¨ToNatsÂ¨1â†“Â¯1â†“line
  vâ†ToNats âŠ‘âŒ½line
  dâ€¿sâ€¿v
}

mâ†ParseLineÂ¨ in

Fewestâ†{ğ•Š tgtâ€¿bsâ€¿Â·:
  stâ†â‹ˆ0â¥ŠËœâ‰ tgt
  tâ†0
  Stepâ†{t+â†©1â‹„<Ë˜â·âˆ¾â‰Â¨ğ•© â‰ âš‡1â€¿1 â‰bs}
  Step â€¢_while_(âˆ§Â´tgtâŠ¸â‰¢âš‡âˆâ€¿1) st
  t
}

+Â´FewestÂ¨m
