#! /usr/bin/env bqn
âŸ¨ToNats,SplitâŸ©â†â€¢Import "../bqn-libs/strings.bqn"
inâ†â€¢FLines "11.in"
fâ†3âŠ¸â†‘Â¨in
tâ†(' 'âŠ¸Split 5âŠ¸â†“)Â¨in
flowâ†f â€¢HashMap t

P1â†{
  memoâ†â€¢HashMapËœâŸ¨âŸ©
  NumPathsâ†{ğ•Š "out": 1;
    memo.Has ğ•© ? memo.Get ğ•© ;
    aâ†+Â´ğ•ŠÂ¨ flow.Get ğ•©
    ğ•© memo.Set a
    a
  }
  NumPaths ğ•©
}

â€¢Show P1 "you" # Part 1

P2â†{
  memoâ†â€¢HashMapËœâŸ¨âŸ©
  NumPathsâ†{ğ•Š "out"â€¿1â€¿1: 1;
    ğ•Š "out"â€¿Â·â€¿Â·: 0;
      memo.Has ğ•© ? memo.Get ğ•© ;
      ğ•Š nodeâ€¿fseenâ€¿dseen:
      fseen âˆ¨â†©nodeâ‰¡"fft"
      dseen âˆ¨â†©nodeâ‰¡"dac"
      aâ†+Â´ğ•ŠÂ¨  âˆ¾âŸœdseenÂ¨ â‹ˆâŸœfseenÂ¨ flow.Get node
      nodeâ€¿fseenâ€¿dseen memo.Set a
      a
  }
  NumPaths ğ•©â€¿0â€¿0
}

â€¢Show P2 "svr" # Part 2
