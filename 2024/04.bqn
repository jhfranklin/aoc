#! /usr/bin/env bqn
inâ†>â€¢FLines â‰ â—¶"04.in"â€¿âŠ‘ â€¢args

hvâ†+Â´(+Â´â¥Š)Â¨"XMAS"â· âš‡âˆâ€¿1 âŸ¨in,âŒ½Ë˜in,â‰in,âŒ½Ë˜â‰inâŸ© # gets the horizontal and vertical
Diagsâ†{
  dâ†(â‰â†•âˆ˜â‰ âŒ½Ë˜âŠ¢)ğ•©
  râ†(â‰(âŒ½1+â†•)â‰-âˆ˜â†•)â‰ ğ•©
  r<âˆ˜â†‘ â‰0â€¿1 d
}
d1â†+Â´â¥Š+Â´Â¨âˆ¾"XMAS" â·âš‡âˆâ€¿1 DiagsÂ¨ âŸ¨in,âŒ½Ë˜inâŸ©
d2â†+Â´â¥Š+Â´Â¨âˆ¾"SAMX" â·âš‡âˆâ€¿1 DiagsÂ¨ âŸ¨in,âŒ½Ë˜inâŸ©
â€¢Show hv+d1+d2 # Part 1
IsMASâ†{
  mdâ†0â€¿0â‰ğ•©
  adâ†0â€¿0â‰âŒ½Ë˜ğ•©
  mtâ†md âˆ¨Â´âˆ˜(â‰¡âš‡âˆâ€¿1) âŸ¨"MAS","SAM"âŸ©
  atâ†ad âˆ¨Â´âˆ˜(â‰¡âš‡âˆâ€¿1) âŸ¨"MAS","SAM"âŸ©
  mtâˆ§at
}
â€¢Show +Â´IsMASÂ¨ â¥Š<â‰2 3â€¿3â†•in # Part 2
