#! /usr/bin/env bqn
mapâ†>â€¢FLines â‰ â—¶"08.in"â€¿âŠ‘ â€¢args
MDIâ†/â—‹â¥ŠâŸœ(â†•â‰¢)    # multidimensional indices
aâ†MDI '.'â‰ map   # get locations of all antennas
gâ†(âŠaâŠ‘map)âŠ¸âŠ” a  # group into antennas by frequency
szâ†â‰¢map
nâ†âŠ‘sz

InBoundsâ†âˆ§Â´â‰¥âŸœ0âˆ§<âŸœsz

GetPairsâ†{      # gets all distinct pairs
  allâ†â¥Šâ‹ˆâŒœËœğ•©     # all combos
  ltâ†â¥Š>âŒœËœâ†•â‰ ğ•©    # lower triangular exc. (so removes reverses and self-pairs)
  lt/all        # map
}
pâ†âˆ¾GetPairsÂ¨ g

_GetAntiNodesâ†{
  vâ†ğ•©-ğ•¨              
  stâ†vÃ—âš‡âˆâ€¿0 ğ•—
  InBoundsÂ¨âŠ¸/ (ğ•©+âš‡1 st)âˆ¾(ğ•¨-âš‡1 st)
} 

â€¢Show +Â´âˆŠâˆ¾ 1 _GetAntiNodesÂ´Â¨ p # Part 1
â€¢Show +Â´âˆŠâˆ¾ (â†•n) _GetAntiNodesÂ´Â¨ p # Part 2
